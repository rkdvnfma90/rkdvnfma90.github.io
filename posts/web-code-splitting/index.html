<!DOCTYPE html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="day-prompt" content="days ago"><meta name="hour-prompt" content="hours ago"><meta name="minute-prompt" content="minutes ago"><meta name="justnow-prompt" content="just now"><meta name="generator" content="Jekyll v4.2.2" /><meta property="og:title" content="코드 스플리팅" /><meta property="og:locale" content="en" /><meta name="description" content="코드 스플리팅 Code Splitting이란 말 그대로 코드를 분할하여 큰 번들파일을 쪼개서 작은 사이즈의 파일로 만드는 것이다. 그렇다면 코드를 왜 분할하는 것일까?" /><meta property="og:description" content="코드 스플리팅 Code Splitting이란 말 그대로 코드를 분할하여 큰 번들파일을 쪼개서 작은 사이즈의 파일로 만드는 것이다. 그렇다면 코드를 왜 분할하는 것일까?" /><link rel="canonical" href="https://rkdvnfma90.github.io/posts/web-code-splitting/" /><meta property="og:url" content="https://rkdvnfma90.github.io/posts/web-code-splitting/" /><meta property="og:site_name" content="aB’s deVlog" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2021-12-26T20:00:00+09:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="코드 스플리팅" /><meta name="twitter:site" content="@twitter_username" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2021-12-26T23:29:30+09:00","datePublished":"2021-12-26T20:00:00+09:00","description":"코드 스플리팅 Code Splitting이란 말 그대로 코드를 분할하여 큰 번들파일을 쪼개서 작은 사이즈의 파일로 만드는 것이다. 그렇다면 코드를 왜 분할하는 것일까?","headline":"코드 스플리팅","mainEntityOfPage":{"@type":"WebPage","@id":"https://rkdvnfma90.github.io/posts/web-code-splitting/"},"url":"https://rkdvnfma90.github.io/posts/web-code-splitting/"}</script><title>코드 스플리팅 | aB's deVlog</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="aB's deVlog"><meta name="application-name" content="aB's deVlog"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="https://cdn.jsdelivr.net"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end" lang="en"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="/assets/img/profile.jpeg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">aB's deVlog</a></div><div class="site-subtitle font-italic">기록하는 습관</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <a href="https://github.com/rkdvnfma90" aria-label="github" class="order-3" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['rkdvnfma90','gmail.com'].join('@')" aria-label="email" class="order-4" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" class="order-5" > <i class="fas fa-rss"></i> </a> <span class="icon-border order-2"></span> <span id="mode-toggle-wrapper" class="order-1"> <i class="mode-toggle fas fa-adjust"></i> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } var self = this; /* always follow the system prefers */ this.sysDarkPrefers.addListener(function() { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.updateMermaid(); }); } /* constructor() */ setDark() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_KEY); sessionStorage.removeItem(ModeToggle.MODE_KEY); } get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode == ModeToggle.DARK_MODE; } get isLightMode() { return this.mode == ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer) ) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } updateMermaid() { if (typeof mermaid !== "undefined") { let expectedTheme = (this.modeStatus === ModeToggle.DARK_MODE? "dark" : "default"); let config = { theme: expectedTheme }; /* re-render the SVG › <https://github.com/mermaid-js/mermaid/issues/311#issuecomment-332557344> */ $(".mermaid").each(function() { let svgCode = $(this).prev().children().html(); $(this).removeAttr("data-processed"); $(this).html(svgCode); }); mermaid.initialize(config); mermaid.init(undefined, ".mermaid"); } } flipMode() { if (this.hasMode) { if (this.isSysDarkPrefer) { if (this.isLightMode) { this.clearMode(); } else { this.setLight(); } } else { if (this.isDarkMode) { this.clearMode(); } else { this.setDark(); } } } else { if (this.isSysDarkPrefer) { this.setLight(); } else { this.setDark(); } } this.updateMermaid(); } /* flipMode() */ } /* ModeToggle */ let toggle = new ModeToggle(); $(".mode-toggle").click(function() { toggle.flipMode(); }); </script> </span></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>코드 스플리팅</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>코드 스플리팅</h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="semi-bold"> aB </span> on <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Sun, Dec 26, 2021, 8:00 PM +0900" >Dec 26, 2021<i class="unloaded">2021-12-26T20:00:00+09:00</i> </span></div><div> <span> Updated <span class="timeago lastmod" data-toggle="tooltip" data-placement="bottom" title="Sun, Dec 26, 2021, 11:29 PM +0900" >Dec 26, 2021<i class="unloaded">2021-12-26T23:29:30+09:00</i> </span> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="1479 words">8 min read</span></div></div><div class="post-content"> <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3C/svg%3E" data-proofer-ignore data-src="https://noticon-static.tammolo.com/dgggcrkxq/image/upload/v1571795671/noticon/ncgxzfzuzo0ygwniagek.png" class="preview-img" alt="Performance" width="100" height="100"><p>코드 스플리팅 <code class="language-plaintext highlighter-rouge">Code Splitting</code>이란 말 그대로 코드를 분할하여 큰 번들파일을 쪼개서 작은 사이즈의 파일로 만드는 것이다. 그렇다면 코드를 왜 분할하는 것일까?</p><p><img data-proofer-ignore data-src="https://user-images.githubusercontent.com/52060742/147405938-0bd13f01-f3a9-4d5f-a386-d9e768d64d09.png" alt="image" /></p><p>위의 사진은 <a href="https://www.npmjs.com/package/cra-bundle-analyzer">cra-bundle-analyzer</a>을 사용한 번들 분석 결과이다.</p><blockquote><p><a href="https://www.npmjs.com/package/webpack-bundle-analyzer">webpack-bundle-analyzer</a>도 있지만 지금은 CRA로 만든 프로젝트를 분석해본 것이기 때문에 cra-bundle-analyzer를 사용했다. 물론 eject를 하거나 craco 같은 별도의 라이브러리를 통해 webpack-bundle-analyzer를 사용해도 된다.</p></blockquote><p>분석 결과를 보면 <code class="language-plaintext highlighter-rouge">refractor</code>라는 것이 번들의 절반을 차지하고 있다. 그럼 이것이 무엇인지 확인하려면 <code class="language-plaintext highlighter-rouge">package-lock.json</code>을 한 번 살펴보자!</p><p>확인해 보니 코드 문법을 하이라이팅 시키는 <code class="language-plaintext highlighter-rouge">react-syntax-highlighter</code>라이브러리에 필요한 라이브러리로써 사용되고 있었다.</p><div class="language-json highlighter-rouge"><div class="code-header"> <span text-data=" JSON "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre><td class="rouge-code"><pre><span class="nl">"react-syntax-highlighter"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="nl">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12.2.1"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"resolved"</span><span class="p">:</span><span class="w"> </span><span class="s2">"생략"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"integrity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"생략"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"requires"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"@babel/runtime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"^7.3.1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"highlight.js"</span><span class="p">:</span><span class="w"> </span><span class="s2">"~9.15.1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"lowlight"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.12.1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"prismjs"</span><span class="p">:</span><span class="w"> </span><span class="s2">"^1.8.4"</span><span class="p">,</span><span class="w">
    </span><span class="err">//</span><span class="w"> </span><span class="err">여기서</span><span class="w"> </span><span class="err">사용</span><span class="w"> </span><span class="err">됨</span><span class="w">
    </span><span class="nl">"refractor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"^2.4.1"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="err">,</span><span class="w">
</span></pre></table></code></div></div><p><br /> <br /></p><p>이것을 확인했다고 해서 최적화를 어떻게 진행할 수 있을까? 먼저 이 라이브러리가 어디에서 쓰이는 지 확인해 봐야 할것이다. 현재 이 라이브러리는 게시글의 <code class="language-plaintext highlighter-rouge">상세화면</code>에서만 사용하고 있다.</p><p>즉, 게시물 전체를 보여주는 화면에서는 굳이 로딩될 필요가 없는 것이다! 이 때 바로 <code class="language-plaintext highlighter-rouge">Code Splitting</code>을 사용하여 불필요한 리소스를 줄이고 페이지의 로딩속도를 향상시킬 수 있다.</p><p><br /> <br /></p><h2 id="code-splitting의-패턴">Code Splitting의 패턴</h2><p>코드 스플리팅은 몇 가지의 패턴을 가지고 있다.</p><ol><li>페이지 별로 코드를 분할<li>모듈 별로 코드를 분할 (여러 페이지에서 같은 모듈을 사용할 경우)<li>위의 두 가지 방법을 적절히 섞은 방법</ol><p>코드 스플리팅의 가장 핵심은 불필요한 코드, 중복된 코드 없이 <code class="language-plaintext highlighter-rouge">적절한 사이즈</code>의 코드가 <code class="language-plaintext highlighter-rouge">적절한 타이밍</code>에 로드되도록 하는 것이다.</p><p><br /> <br /></p><h2 id="code-splitting-방법">Code Splitting 방법</h2><p>자세한 내용은 <a href="https://ko.reactjs.org/docs/code-splitting.html">React 공식 홈페이지</a>에서 확인할 수 있다.</p><p>가장 간단하게는 <code class="language-plaintext highlighter-rouge">React Router</code>라이브러리를 사용해서 <code class="language-plaintext highlighter-rouge">라우트 기반</code>의 코드 스플리팅을 하는 것이다.</p><div class="language-js highlighter-rouge"><div class="code-header"> <span text-data=" JavaScript "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
</pre><td class="rouge-code"><pre><span class="k">import</span> <span class="nx">React</span><span class="p">,</span> <span class="p">{</span> <span class="nx">Suspense</span><span class="p">,</span> <span class="nx">lazy</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">BrowserRouter</span> <span class="k">as</span> <span class="nx">Router</span><span class="p">,</span> <span class="nx">Route</span><span class="p">,</span> <span class="nx">Switch</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react-router-dom</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">Home</span> <span class="o">=</span> <span class="nx">lazy</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="k">import</span><span class="p">(</span><span class="dl">'</span><span class="s1">./routes/Home</span><span class="dl">'</span><span class="p">));</span>
<span class="kd">const</span> <span class="nx">About</span> <span class="o">=</span> <span class="nx">lazy</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="k">import</span><span class="p">(</span><span class="dl">'</span><span class="s1">./routes/About</span><span class="dl">'</span><span class="p">));</span>

<span class="kd">const</span> <span class="nx">App</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">(</span>
  <span class="o">&lt;</span><span class="nx">Router</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="nx">Suspense</span> <span class="nx">fallback</span><span class="o">=</span><span class="p">{</span><span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span><span class="nx">Loading</span><span class="p">...</span><span class="o">&lt;</span><span class="sr">/div&gt;}</span><span class="err">&gt;
</span>      <span class="o">&lt;</span><span class="nx">Switch</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="nx">Route</span> <span class="nx">exact</span> <span class="nx">path</span><span class="o">=</span><span class="dl">"</span><span class="s2">/</span><span class="dl">"</span> <span class="nx">component</span><span class="o">=</span><span class="p">{</span><span class="nx">Home</span><span class="p">}</span><span class="sr">/</span><span class="err">&gt;
</span>        <span class="o">&lt;</span><span class="nx">Route</span> <span class="nx">path</span><span class="o">=</span><span class="dl">"</span><span class="s2">/about</span><span class="dl">"</span> <span class="nx">component</span><span class="o">=</span><span class="p">{</span><span class="nx">About</span><span class="p">}</span><span class="sr">/</span><span class="err">&gt;
</span>      <span class="o">&lt;</span><span class="sr">/Switch</span><span class="err">&gt;
</span>    <span class="o">&lt;</span><span class="sr">/Suspense</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="sr">/Router</span><span class="err">&gt;
</span><span class="p">);</span>
</pre></table></code></div></div><p>하지만 이렇게 한다고 해서 바로 사용할 수 있는 것이 아니다! 😱 코드 스플리팅을 하는 주체는 리액트가 아니라 <code class="language-plaintext highlighter-rouge">웹팩</code>이기 때문에 웹팩에서 별도의 설정을 해줘야 한다!</p><blockquote><p>CRA로 프로젝트를 구성했을 경우 별도의 설정을 할 필요는 없다!</p></blockquote><p><a href="https://webpack.js.org/guides/code-splitting/">웹팩 공식사이트</a></p><p>위 코드와 같이 코드 스플리팅을 했을 경우 번들 분석결과는 아래와 같다.</p><p><img data-proofer-ignore data-src="https://user-images.githubusercontent.com/52060742/147407938-91a9cff0-51eb-4cd0-8ba3-f3ef3b7011c1.png" alt="image" /></p><p>처음과 다르게 <code class="language-plaintext highlighter-rouge">react-dom</code> 부분이 별도로 분리된 모습을 볼 수 있다!</p><p><br /> <br /></p><h2 id="lighthouse-결과">Lighthouse 결과</h2><p><img data-proofer-ignore data-src="https://user-images.githubusercontent.com/52060742/147408002-07a29b16-185b-4e68-b48f-5949288156fd.png" alt="image" /></p><p>오우 🚀 중간에 진행했던 몇몇의 최적화와 코드 스플리팅을 하는 것 만으로도 51점에서 <code class="language-plaintext highlighter-rouge">96점</code>이 되었다!!</p><p>하지만 이것은 production 모드에서 측정을 한 것이 아니라 development 모드에서 진행한 것이다. 성능 측정은 production 모드에서 측정을 해야한다. 그 이유는 웹팩 설정에 따라 production 모드에서는 코드를 <code class="language-plaintext highlighter-rouge">minify</code> 하거나 <code class="language-plaintext highlighter-rouge">uglify</code> 하기 때문에 development와 성능차이가 있을 수 있기 때문이다</p><p><br /> <br /></p><h2 id="텍스트-압축">텍스트 압축</h2><p>서버에서 보내는 리소스를 압축해서 서비스를 하는 것이다! 이렇게 하면 다운로드 하는 리소스의 크기가 줄어들어 더 빠르게 컨텐츠를 로드할 수 있다.</p><p><img data-proofer-ignore data-src="https://user-images.githubusercontent.com/52060742/147408339-93646536-2098-426b-9025-e02e3dd74094.png" alt="image" /></p><p>네트워크 탭에서 현재 요청하고 있는 API의 <code class="language-plaintext highlighter-rouge">응답 헤더</code>를 살펴보면 <code class="language-plaintext highlighter-rouge">Content-Encoding</code>에 <code class="language-plaintext highlighter-rouge">gzip</code>이라고 되어 있는 부분이 있다 이 의미는 gzip이라는 인코딩 방식을 통해 <code class="language-plaintext highlighter-rouge">압축</code>되어 있다는 의미이다.</p><p><br /> <br /></p><p><img data-proofer-ignore data-src="https://user-images.githubusercontent.com/52060742/147408419-316a568b-ebb6-4e7e-be86-e9c6117102e0.png" alt="image" /></p><p>이와 반대로 빌드된 <code class="language-plaintext highlighter-rouge">main.js</code>를 보면 응답 헤더에서는 <code class="language-plaintext highlighter-rouge">Content-Encoding</code>를 찾아볼 수 없다. 이 의미는 번들링된 파일은 압축되어 있지 않다는 의미이다.</p><blockquote><p>웹상에서 사용하는 압축 알고리즘에는 보통 <code class="language-plaintext highlighter-rouge">gzip</code>과 <code class="language-plaintext highlighter-rouge">Deflate</code>이 있다. gzip이 Deflate보다 높은 압축률을 가지고 있다.</p></blockquote><p>그리고, 압축여부를 확인할 때 <code class="language-plaintext highlighter-rouge">응답 헤더</code>에서 확인되는 것으로 유추했을 때 클라이언트에서 하는게 아니라 번들 파일을 서비스 해주는 서버에서 해줘야 한다.</p><blockquote><p>유의해야 할 점</p><p>서버에서 압축 설정이 되어 있는데 네트워크 탭을 보면 어떤 파일은 gzip으로 압축이 잘 되어 있고, 어떤 파일은 압축이 되어있지 않는 경우도 있을 것이다. 그 이유는 서버에서 압축을 하면 클라이언트에서는 압축을 해제해야 하는데 무분별하게 모든 파일을 압축해버리면 오히려 시간이 더 걸릴 수도 있기 때문이다.</p><p>보통 <code class="language-plaintext highlighter-rouge">2kb</code>를 기준으로 압축 유무를 결정한다.</p></blockquote><p><br /> <br /></p><h2 id="느낀점">느낀점</h2><p>텍스트 압축은 정말 가성비 좋은 최적화 방법인것 같다. 물론 서버에서도 설정해야 하지만</p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/%EC%9B%B9-%EC%84%B1%EB%8A%A5-%EC%B5%9C%EC%A0%81%ED%99%94/'>웹 성능 최적화</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/%EC%9B%B9-%EC%84%B1%EB%8A%A5-%EC%B5%9C%EC%A0%81%ED%99%94/" class="post-tag no-text-decoration" >웹 성능 최적화</a> <a href="/tags/%EC%BD%94%EB%93%9C-%EC%8A%A4%ED%94%8C%EB%A6%AC%ED%8C%85/" class="post-tag no-text-decoration" >코드 스플리팅</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=코드 스플리팅 - aB's deVlog&url=https://rkdvnfma90.github.io/posts/web-code-splitting/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=코드 스플리팅 - aB's deVlog&u=https://rkdvnfma90.github.io/posts/web-code-splitting/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"> <span>Recent Update</span><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/RTK-cheat-sheet/">RTK Cheat Sheet</a><li><a href="/posts/git-cheat-sheet/">Git Cheat Sheet</a><li><a href="/posts/TIL/">2022-02-10 TIL</a><li><a href="/posts/TIL/">2022-02-06 TIL</a><li><a href="/posts/web-optimization-preloading/">컴포넌트, 이미지 Preloading</a></ul></div><div id="access-tags"> <span>Trending Tags</span><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/javascript/">Javascript</a> <a class="post-tag" href="/tags/%EC%9B%B9-%EC%84%B1%EB%8A%A5-%EC%B5%9C%EC%A0%81%ED%99%94/">웹 성능 최적화</a> <a class="post-tag" href="/tags/%ED%81%B4%EB%A6%B0%EC%BD%94%EB%93%9C/">클린코드</a> <a class="post-tag" href="/tags/css-%EC%B5%9C%EC%A0%81%ED%99%94/">CSS 최적화</a> <a class="post-tag" href="/tags/git/">Git</a> <a class="post-tag" href="/tags/layout-shift/">Layout Shift</a> <a class="post-tag" href="/tags/next-js/">Next.js</a> <a class="post-tag" href="/tags/opportunities/">Opportunities</a> <a class="post-tag" href="/tags/preloading/">Preloading</a> <a class="post-tag" href="/tags/rtk/">RTK</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"> <span class="pl-3 pt-2 mb-2">Contents</span><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/web-optimization-start/"><div class="card-body"> <span class="timeago small" >Dec 26, 2021<i class="unloaded">2021-12-26T17:00:00+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>웹 성능 최적화 시작</h3><div class="text-muted small"><p> 시작 더 효율적인 프론트엔드 개발자가 되고싶어 웹 성능 최적화에 대해 학습하려 한다. 아직 익숙하지 않아 바로바로 적용하는 데에 어려울 수도 있지만 계속 하면서 습관화 할 수 있도록 해야겠다! 🔥🔥🔥 lighthouse 가장 쉽게 성능을 확인할 수 있는 방법은 크롬 개발자 도구의 lighthouse이다. 자신이 원하는 설정을 체크하고 ...</p></div></div></a></div><div class="card"> <a href="/posts/web-optimization-Opportunities/"><div class="card-body"> <span class="timeago small" >Dec 26, 2021<i class="unloaded">2021-12-26T19:00:00+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Opportunities</h3><div class="text-muted small"><p> 지난 글에 이어서 Opportunities 항목을 하나씩 최적화 해보자! 내가 확인하고 있는 코드의 Opportunities 결과는 다음과 같다. 그럼, 하나하나 살펴보면서 최적화를 진행해 보자! Properly size images Properly size images 항목은 셀룰러 데이터를 절약하고 로드 시간을 단축하기 위해 ...</p></div></div></a></div><div class="card"> <a href="/posts/web-optimization-css/"><div class="card-body"> <span class="timeago small" >Jan 9<i class="unloaded">2022-01-09T10:30:00+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>CSS 최적화</h3><div class="text-muted small"><p> 다른 요소들과 마찬가지로 CSS도 최적화를 할 수 있다. 개발자도구의 커버리지탭을 보면 각 요소들에 대한 사용량을 보여준다. (빨간색 그래프가 사용하지 않는 부분임) 해당 내용을 더 자세하게 보기 위해선 위에 소스탭을 켜두고 자세히 보고자 하는 요소를 아래 커버리지탭에서 클릭하면 확인할 수 있다. 여기도 마찬가지로 빨간색과 파란색으로 표시...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/web-optimization-Opportunities/" class="btn btn-outline-primary" prompt="Older"><p>Opportunities</p></a> <a href="/posts/problem-solving-approach/" class="btn btn-outline-primary" prompt="Newer"><p>문제해결 접근법</p></a></div></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2022 <a href="https://github.com/rkdvnfma90">aB</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4><a class="post-tag" href="/tags/javascript/">Javascript</a> <a class="post-tag" href="/tags/%EC%9B%B9-%EC%84%B1%EB%8A%A5-%EC%B5%9C%EC%A0%81%ED%99%94/">웹 성능 최적화</a> <a class="post-tag" href="/tags/%ED%81%B4%EB%A6%B0%EC%BD%94%EB%93%9C/">클린코드</a> <a class="post-tag" href="/tags/css-%EC%B5%9C%EC%A0%81%ED%99%94/">CSS 최적화</a> <a class="post-tag" href="/tags/git/">Git</a> <a class="post-tag" href="/tags/layout-shift/">Layout Shift</a> <a class="post-tag" href="/tags/next-js/">Next.js</a> <a class="post-tag" href="/tags/opportunities/">Opportunities</a> <a class="post-tag" href="/tags/preloading/">Preloading</a> <a class="post-tag" href="/tags/rtk/">RTK</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/lozad/dist/lozad.min.js,npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.16.1,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id="></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', ''); }); </script>
